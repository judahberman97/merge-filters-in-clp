(()=>{var e={845:e=>{self,e.exports=(()=>{"use strict";var e={};return((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArmadaLoaded=void 0,t.isArmadaLoaded=e=>{var t,a;const i=!0===(null===(a=null===(t=window.eight)||void 0===t?void 0:t.armada)||void 0===a?void 0:a.loaded);if(!e)return i;i?e():document.addEventListener("ARMADA:LOADED",e)},t.default=t.isArmadaLoaded})(0,e),e})()}},t={};function a(i){var d=t[i];if(void 0!==d)return d.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=a(845);class t extends HTMLElement{constructor(){super(),this.thumbnailSlider=this.querySelector('[data-armada-selector="product-thumbnail-slider"]'),this.sliderContainer=this.querySelector('[data-armada-selector="product-thumbnail-slider-container"]'),this.templateContent=this.querySelector('[data-armada-selector="product-media-template"]').content,this.mediaContainer=this.querySelector('[data-armada-selector="product-media-container"]'),this.galleryProductId=+this.dataset.productId,this.scopeId=this.dataset.scopeId,this.featuredImageId=+this.dataset.featuredImageId,this.sliderAnimiationElement=this.querySelector('[data-armada-selector="product-thumbnail-animate-target"]'),this.activeThumbnailClasses=["lg:after:absolute","lg:after:h-2","lg:after:left-0","lg:after:right-0","lg:after:bottom-0","lg:after:bg-body"]}connectedCallback(){(0,e.isArmadaLoaded)(this.init.bind(this))}init(){this.thumbnailSlider.addEventListener("click",(e=>this.setMedia(this.templateContent,this.mediaContainer,this.getMediaId(e.target)))),this.thumbnailSlider.addEventListener("click",(e=>this.setActiveThumbnail(this.getMediaId(e.target),this.thumbnailSlider,this.activeThumbnailClasses))),this.thumbnailSlider.addEventListener("keyup",(e=>this.keyUpHandler(e))),document.addEventListener("ARMADA:VARIANT:CHANGE",(e=>this.handleVariantChange(e))),window.eight.armada.elementRegistry.register({key:"product-thumbnail-gallery",assetPath:"/assets/component-product-thumbnail-gallery.min.js"}),this.animateSlider(),this.setCursorStyle()}handleVariantChange(e){this.scopeId==e.detail.scopeId&&(this.setMediaOnVariantChange(this.templateContent,this.mediaContainer,e.detail,this.galleryProductId,this.featuredImageId),this.setActiveThumbnail(this.getMediaIdFromVariant(e.detail.variant,this.featuredImageId),this.thumbnailSlider,this.activeThumbnailClasses))}setMediaOnVariantChange(e,t,{productId:a,variant:i},d,r,s,l){d==a&&i&&this.setMedia(e,t,this.getMediaIdFromVariant(i,r),s,l)}getMediaId(e){return e.dataset.mediaId}getMediaIdFromVariant(e,t){return e.featured_media?e.featured_media.id:t}setMedia(e,t,a){if(!a||"sm"==window.eight.getCurrentBreakpoint())return;this.hideDeselectedMedia(t);const i=t.querySelector(`[data-media-id="${a}"]`);i?this.displayMedia(i):this.createNewMedia(e,t,a)}hideDeselectedMedia(e){const t=e.querySelector('[data-media-selected="true"]');t.setAttribute("data-media-selected",!1),t.classList.add("hidden")}displayMedia(e){e.setAttribute("data-media-selected",!0),e.classList.remove("hidden")}createNewMedia(e,t,a){const i=e.querySelector(`[data-media-id="${a}"]`).cloneNode(!0);this.displayMedia(i),t.appendChild(i)}setActiveThumbnail(e,t,a){const i=t.querySelector('[data-thumbnail-selected="true"]'),d=t.querySelector(`[data-media-id="${e}"]`);i&&d&&this.getMediaId(i)!=e&&e&&(i.setAttribute("data-thumbnail-selected",!1),i.classList.remove(...a),d.setAttribute("data-thumbnail-selected",!0),d.classList.add(...a))}keyUpHandler(e){13===e.keyCode&&e.target.parentElement.click()}animateSlider(){this.sliderIsScrollable()&&this.sliderAnimiationElement.animate([{transform:"translateY(0)"},{transform:"translateY(-60px)"}],{delay:1500,duration:800,direction:"alternate",iterations:2,easing:"ease"})}setCursorStyle(){this.sliderIsScrollable()&&(this.thumbnailSlider.classList.remove("lg:cursor-pointer"),this.thumbnailSlider.classList.add("lg:cursor-ns-resize"))}sliderIsScrollable(){return this.thumbnailSlider.offsetHeight>this.sliderContainer.offsetHeight}}customElements.define("product-thumbnail-gallery",t)})()})();